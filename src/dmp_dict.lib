' Copyright (c) 2019 Thomas Hugo Williams
' For Maximite BASIC v4.5C

Sub dmp_dict
  Local a, col, i, n, sep$, sz

  Print "    **** Dictionary ****"
  Print

  dbg = 1
  a = rw(&h8) ' Dictionary address

  n = rb(a) : a = a + 1
  sep$ = Space$(n)
  For i = 1 To n : Poke Var sep$, i, rb(a) : a = a + 1 : Next i
  Print "  Word separators = "; Chr$(34); sep$; Chr$(34)

  sz = rb(a) : a = a + 1
  n = rw(a) : a = a + 2
  Print "  Word count ="; n; ", word size ="; sz
  Print

  For i = 1 To n
    Print "["; lpad$(Str$(i), 4, " "); "] ";

    ' Read 4 bytes of text
    print_zstring(a)

    ' Skip (sz - 4) bytes of data
    a = a + sz - 4

    col = col + 1
    Print Chr$(13); Chr$(27); "[" ; Str$(col * 15); "C";
    If col = 5 Then col = 0 : Print
  Next i
End Sub
