' Copyright (c) 2019 Thomas Hugo Williams
' For Maximite BASIC v4.5C

Sub dmp_routine(new_pc)
  Local i, locals_sz
  locals_sz = readb(new_pc)
  Print "Routine "; Hex$(new_pc); ", "; Str$(locals_sz); " locals (";
  For i = 0 To locals_sz - 1
    If i > 0 Then Print ", ";
    x = readw(new_pc + 1 + i * 2)
    Print lpad$(Hex$(x), 4, "0");
  Next i
  Print ")"
End Sub
